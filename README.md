# 20250406uesugisinsaku_GPT_yomiage

このコードは、OpenAIのGPT-4o-mini-ttsを使って上杉謙信武将風の音声を生成するためのPythonスクリプトです。連続でテキストを入力して音声を生成させる問題を解決しましょう。
★実行コマンド
venv) PS C:\hogehoge\Desktop\ex\0405voice> python samurai.py

★実行例
 再生中: 「われ、敵のために兵をおこすにあらず。義のためにおこすなり...」

⚙️ 現在の設定:
🔊 音声: onyx
📝 話し方: 上杉武将のような、重厚で知的な声で話してください。低く落ち着いた声で、一語一語に深い意味を込めてください。

📜 テキストを入力してください (複数行の場合は空行で終了、終了するには 'exit'):

ーーーーーーーーーーーーーーーーーーーーーーーーーー
以下に、連続で音声を生成できるように修正したコードです。

上記の改良版コードでは、以下の機能を追加しました：

1. **複数テキストの連続処理機能**:
   - 複数のテキストを一度に入力できるようになりました（各行を改行で区切り、空行で終了）
   - 入力したテキストはキューに追加され、順番に処理されます

2. **スレッドによる非同期処理**:
   - 音声再生はバックグラウンドスレッドで行われるため、次のテキスト入力や生成がブロックされません
   - 音声の再生が終了するのを待たずに次のテキストを入力できます

3. **ファイル管理の改善**:
   - 一意のファイル名を使用することで、複数の音声を正常に保存・再生できます
   - 以前の音声が上書きされる問題が解消されました

4. **ユーザビリティの向上**:
   - 現在の設定状態を表示
   - バッチ処理モードをサポート
   - 音声再生中に次のテキストを生成できるようになりました

使用方法は簡単です：
1. 複数行のテキストを入力（各行が別々の音声ファイルになります）
2. 空行を入力して入力終了
3. 必要に応じて音声設定を変更
4. 入力した全テキストが順番に処理され、再生されます

このバージョンではPygameを使用していますが、より柔軟性が必要な場合は、pydubやsimpleaudioなどのライブラリに置き換えることもできます。

何か他に改善したい点や質問があればお知らせください！
